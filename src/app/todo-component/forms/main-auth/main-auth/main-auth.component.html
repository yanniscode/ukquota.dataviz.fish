<div id="main-connection" class="form-connection-container" *ngIf="!mainAuthService.isUserLoggedIn">

    <form [formGroup]="userForm" #formDir="ngForm">

        <h1 class="connection_title">Connexion</h1>

        <div>

            <div class="form-group">
    
                <mat-form-field class="col align-self-center">
                    <mat-label for="login">Login</mat-label>     
                    <input matInput id="login" class="form-control" formControlName="login" required>
                </mat-form-field>
                
                <div *ngIf="login.invalid && (login.dirty || login.touched)" class="alert alert-danger">
                    <div *ngIf="login.errors.required">
                        Le login est requis.
                    </div>     
                    <div *ngIf="login.errors.minlength">
                        le login doit être d'au moins 4 caractères.
                    </div>
                </div>

            </div>

            <div class="form-group">

                <mat-form-field class="col align-self-center">
                    <mat-label for="mail">Mail</mat-label>
                    <input matInput id="mail" class="form-control" formControlName="mail" required>
                </mat-form-field>

                <div *ngIf="mail.invalid && (mail.dirty || mail.touched)" class="alert alert-danger">
                    <div *ngIf="mail.errors.required">
                        Le mail est requis.
                    </div>   
                    <div *ngIf="mail.errors.email">
                        le mail doit être au bon format.
                    </div>
                </div>

            </div>

        </div>


        <div class="submit animated fadeIn">
            <button id="showDatasBtn" type="submit" (click)="onSubmit()" class="btn btn-default" [disabled]="userForm.invalid">Se Connecter</button>
        </div>

    </form>

</div>


<div id="main-form-submitted" class="submitted-message animated fadeIn" *ngIf="mainAuthService.isUserLoggedIn">

    <router-outlet></router-outlet>

    <div class="submit">
        <button type="submit" (click)="onUserDeconnect()" class="btn btn-outline-danger">Déconnexion Générale</button>
    </div>

</div>